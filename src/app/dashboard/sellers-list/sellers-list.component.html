<div class="sellers-list-container">
  <!-- Header con título y botón crear vendedor -->
  <div class="flex items-center justify-between mb-6">
    <h1 class="screen-title">{{ 'sellers.title' | customTranslate }}</h1>
    <button type="button" class="btn-primary" (click)="createSeller()" [attr.aria-label]="'sellers.createSeller' | customTranslate">
      <span nz-icon nzType="plus" nzTheme="outline" aria-hidden="true"></span>
      {{ 'sellers.createSeller' | customTranslate }}
    </button>
  </div>

  <!-- Indicador de carga -->
  <div *ngIf="loading" class="flex justify-center items-center py-12">
    <nz-spin nzSimple [nzSize]="'large'"></nz-spin>
  </div>

  <!-- Mensaje de error -->
  <div *ngIf="error && !loading" class="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6">
    <p class="font-medium">{{ error }}</p>
    <button type="button" class="mt-2 text-sm underline" (click)="loadSellers()" [attr.aria-label]="'sellers.retry' | customTranslate">{{ 'sellers.retry' | customTranslate }}</button>
  </div>

  <!-- Tabla de vendedores con estilos globales -->
  <div *ngIf="!loading && !error && sellers.length > 0"
    class="bg-white dark:bg-white/10 m-0 p-0 text-theme-gray dark:text-white/60 text-[15px] rounded-10 relative mb-[25px]">
    <div class="p-[25px]">
      <div class="w-full overflow-x-auto">
        <table class="w-full">
          <thead>
            <tr>
              <th
                class="bg-regularBG dark:bg-[#323440] px-[20px] py-[16px] text-start text-dark dark:text-white/[.87] text-15px font-medium border-none before:hidden rounded-s-[10px] capitalize">
                {{ 'sellers.name' | customTranslate }}
              </th>
              <th
                class="bg-regularBG dark:bg-[#323440] px-2 py-[16px] text-start text-dark dark:text-white/[.87] text-[15px] font-medium border-none before:hidden capitalize">
                {{ 'sellers.identification' | customTranslate }}
              </th>
              <th
                class="bg-regularBG dark:bg-[#323440] px-2 py-[16px] text-start text-dark dark:text-white/[.87] text-[15px] font-medium border-none before:hidden capitalize">
                {{ 'sellers.status' | customTranslate }}
              </th>
              <th
                class="bg-regularBG dark:bg-[#323440] px-2 py-[16px] text-start text-dark dark:text-white/[.87] text-[15px] font-medium border-none before:hidden capitalize">
                {{ 'sellers.email' | customTranslate }}
              </th>
              <th
                class="bg-regularBG dark:bg-[#323440] px-[20px] py-[16px] text-start text-dark dark:text-white/[.87] text-[15px] font-medium border-none before:hidden rounded-e-[10px] capitalize">
                {{ 'sellers.actions' | customTranslate }}
              </th>
            </tr>
          </thead>
          <tbody>
            <tr class="group" *ngFor="let seller of paginatedSellers">
              <td
                class="ltr:pr-4 rtl:pl-4 text-dark dark:text-white/[.87] text-[15px] py-4 before:hidden border-none group-hover:bg-transparent">
                <p class="font-medium">{{ seller.name }}</p>
              </td>
              <td
                class="ltr:pr-4 rtl:pl-4 text-dark dark:text-white/[.87] text-[15px] py-4 before:hidden border-none group-hover:bg-transparent">
                <p>{{ seller.identification }}</p>
              </td>
              <td
                class="ltr:pr-4 rtl:pl-4 text-dark dark:text-white/[.87] text-[15px] py-4 before:hidden border-none group-hover:bg-transparent">
                <nz-tag [nzColor]="getStatusColor(seller.status)">
                  {{ getStatusText(seller.status) }}
                </nz-tag>
              </td>
              <td
                class="ltr:pr-4 rtl:pl-4 text-dark dark:text-white/[.87] text-[15px] py-4 before:hidden border-none group-hover:bg-transparent">
                <p>{{ seller.email }}</p>
              </td>
              <td
                class="ltr:pr-4 rtl:pl-4 text-dark dark:text-white/[.87] text-[15px] py-4 before:hidden border-none group-hover:bg-transparent">
                <div class="flex items-center gap-2">
                  <button
                    (click)="viewSeller(seller.id)"
                    type="button"
                    [attr.aria-label]="('sellers.viewDetails' | customTranslate) + ': ' + seller.name"
                    class="inline-flex items-center justify-center w-[44px] h-[44px] rounded-[6px] border-none cursor-pointer transition-all duration-200"
                    style="background-color: var(--blue-violet-extralight, #E8ECFF); color: var(--blue-violet-dark, #3749B3);"
                    onmouseover="this.style.backgroundColor='var(--blue-violet-dark, #3749B3)'; this.style.color='white';"
                    onmouseout="this.style.backgroundColor='var(--blue-violet-extralight, #E8ECFF)'; this.style.color='var(--blue-violet-dark, #3749B3)';"
                    [nzTooltipTitle]="'sellers.viewDetails' | customTranslate"
                    nz-tooltip>
                    <span class="text-[18px]" nz-icon nzType="eye" nzTheme="outline" aria-hidden="true"></span>
                    <span class="sr-only">{{ 'sellers.viewDetails' | customTranslate }}</span>
                  </button>
                  <button
                    (click)="manageClients(seller.id)"
                    type="button"
                    [attr.aria-label]="('sellers.manageClients' | customTranslate) + ': ' + seller.name"
                    class="inline-flex items-center justify-center w-[44px] h-[44px] rounded-[6px] border-none cursor-pointer transition-all duration-200"
                    style="background-color: var(--blue-violet-extralight, #E8ECFF); color: var(--blue-violet-dark, #3749B3);"
                    onmouseover="this.style.backgroundColor='var(--blue-violet-dark, #3749B3)'; this.style.color='white';"
                    onmouseout="this.style.backgroundColor='var(--blue-violet-extralight, #E8ECFF)'; this.style.color='var(--blue-violet-dark, #3749B3)';"
                    [nzTooltipTitle]="'sellers.manageClients' | customTranslate"
                    nz-tooltip>
                    <span class="text-[18px]" nz-icon nzType="team" nzTheme="outline" aria-hidden="true"></span>
                    <span class="sr-only">{{ 'sellers.manageClients' | customTranslate }}</span>
                  </button>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- Empty State - Sin vendedores -->
  <div *ngIf="!loading && !error && sellers.length === 0" class="empty-state">
    <div class="empty-state-content">
      <span nz-icon nzType="team" nzTheme="outline" class="empty-icon"></span>
      <h2 class="empty-title">{{ 'sellers.noSellers' | customTranslate }}</h2>
      <p class="empty-description">
        {{ 'sellers.noSellersDescription' | customTranslate }}
      </p>
    </div>
  </div>

  <!-- Paginador -->
  <div *ngIf="sellers.length > 0" class="flex justify-center mt-6">
    <nz-pagination [(nzPageIndex)]="currentPage" [nzTotal]="totalItems" [nzPageSize]="pageSize"
      [nzShowSizeChanger]="false" [nzShowQuickJumper]="false">
    </nz-pagination>
  </div>
</div>
